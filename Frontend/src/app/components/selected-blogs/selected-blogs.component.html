<mat-card>
    <div *ngIf="(state$ | async)?.loading === false && (state$ | async) as state; else loading">

        <h2>Selected Blogs:</h2>
        <div *ngIf="!state.error">

            <ul>
                <li *ngFor="let selectedBlog of state.selectedBlogs" class="selected-blog">
                    <mat-checkbox [checked]="selectedBlog.isSelected"
                        (change)="toggleSelectedBlog($event, selectedBlog)">
                        {{utilService.getHostname(selectedBlog.blogUrl)}}</mat-checkbox>

                    <button mat-mini-fab color="primary" (click)="deleteSelectedBlog(selectedBlog)" class="delete">
                        <mat-icon>delete</mat-icon>
                    </button>

                    <div style="clear: both;"></div>
                </li>
            </ul>

            <button mat-raised-button color="primary" (click)="openDialog()">Add Blog</button>
        </div>


        <div *ngIf="state.error">
            <p>An error has occured: {{state.error.message}}</p>
        </div>
    </div>

    <ng-template #loading>
        <app-loading-spinner></app-loading-spinner>
    </ng-template>
</mat-card>